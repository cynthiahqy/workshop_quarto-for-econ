---
title: "Websites Pt. 1"
subtitle: "Session 2: AEA Replication in Quarto"
author: "Cynthia Huang"
# date: 2023-07-18
format: revealjs
metadata-files: 
  - ../_slides.yml
---

```{r}
#| label: setup
#| include: false
#| file: ../_slides-setup.R
```

# Your First Website

## Making a New Website in VSCode

::: {.columns}
::: {.column}
::: follow
- Open VSCode and go to the Command Palette
- Select `Quarto: Create Project` > `Website Project`,
- Follow the prompts
- Render and Preview your new website
:::
:::
::: {.column}

```{.terminal filename="my_first_website/"}
.
â”œâ”€â”€ _quarto.yml
â”œâ”€â”€ about.qmd
â”œâ”€â”€ index.qmd
â””â”€â”€ styles.css
```
:::
:::

::: footnote
For more help see the [Creating a Website](https://quarto.org/docs/websites/) guide in the Official Quarto docs
:::

## Modify the About Page

Quarto has some built in templates for "About You" pages. Let's add some information about you to `about.qmd`

::: {.columns}
::: {.column}
```{.yaml}
title: "Finley Malloc"
about:
  template: jolla
  image: profile.jpg
  links:
    - icon: twitter
      text: twitter
      href: https://twitter.com
    - icon: github
      text: Github
      href: https://github.com
```
:::
::: {.column}
::: follow
- Open `about.qmd` in your new website project
- Modify the content
- Re-render and Preview your website
:::
:::
:::


::: footnote
See [About pages](https://quarto.org/docs/websites/website-about.html) Guide for more details
:::

# Publishing your Website

## Our Turn: Drag & Drop

::: follow
Let's Drag and Drop our `docs` or `_site` folder instead!

[ðŸ”— Netlify Drop](https://app.netlify.com/drop)
:::

## Netlify Drop

:::{layout-ncol="2"}
#### Pros

- Easy and straight forward
- So so quick!
- Free!

#### Cons

- Link expires in 24 hours if you don't sign up
- Updating has to be done manually
- No version control

:::

See also: [Section 6.2 of _Authoring Books with R Markdown_](https://bookdown.org/yihui/bookdown/netlify-drop.html)

## Alternative Methods

[ðŸ”— quarto.org/docs/publishing/](https://quarto.org/docs/publishing/)

```{=html}
<iframe src="https://quarto.org/docs/publishing/" width="100%" height="500" style="border:2px solid #123233;" title="Quarto Publishing Guide"></iframe>
```

# Websites are Quarto Projects

## Anatomy of a Quarto Website {.smaller}

[ðŸ”— github.com/cynthiahqy/monash-quarto-aea](https://github.com/cynthiahqy/monash-quarto-aea)

::: {layout-ncol="2"}
``` {.terminal code-line-numbers="13|2-9|10-12|17-28"}
.
â”œâ”€â”€ 00-pre-workshop.qmd
â”œâ”€â”€ 01a-hello-quarto
â”‚   â”œâ”€â”€ images
â”‚   â”œâ”€â”€ index.qmd
â”‚   â””â”€â”€ slides.qmd
...01d...04d...
â”œâ”€â”€ index.qmd
â”œâ”€â”€ about.qmd
â”œâ”€â”€ day01-exercises.zip
â”œâ”€â”€ images
â”‚   â””â”€â”€ cynthia-profile.jpg
â”œâ”€â”€ _quarto.yml
â”œâ”€â”€ LICENSE
â”œâ”€â”€ README.md
â”œâ”€â”€ README.qmd
â”œâ”€â”€ docs
â”‚   â”œâ”€â”€ 00-pre-workshop.html
â”‚   â”œâ”€â”€ 01a-hello-quarto
â”‚   â”œâ”€â”€ 01b-formats
â”‚   â”œâ”€â”€ 01c-articles
â”‚   â”œâ”€â”€ 01d-wrap-up
â”‚   â”œâ”€â”€ about.html
â”‚   â”œâ”€â”€ day01-exercises.zip
â”‚   â”œâ”€â”€ images
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ search.json
â”‚   â””â”€â”€ site_libs
â”œâ”€â”€ _freeze
â”‚   â”œâ”€â”€ 00-pre-workshop
â”‚   â”œâ”€â”€ 01a-hello-quarto
â”‚   â”œâ”€â”€ 01b-docs
â”‚   â”œâ”€â”€ 01b-formats
â”‚   â”œâ”€â”€ 01c-articles
â”‚   â””â”€â”€ site_libs
â”œâ”€â”€ references.bib
â””â”€â”€ style
    â””â”€â”€ slides.scss
```

-   Config File `_quarto.yml` with:
    -   Project options
    -   Website options
    -   Shared document options
-   Multiple `.qmd` files
-   Additional assets such as code, data, images, pdfs, zip etc.
-   Rendered website ready for publishing
:::

## Quarto Projects...

are directories that provide:

-   A way to render all or some of the files in a directory with a single command (e.g. quarto render myproject).

-   A way to share YAML configuration across multiple documents.

-   The ability to redirect output artifacts to another directory.

-   The ability to freeze rendered output (i.e. don't re-execute documents unless they have changed).

## Projects types

Every project has a `_quarto.yml` config file:

``` {.yaml code-line-numbers="1-2" filename="_quarto.yml"}
project:
  type: website
  output-dir: docs
...
```

The `type` field indicates the type of project:

-   `default`: Collection of documents

-   `website`: Websites (and blogs)!

-   `books`: Books

We will focus on Websites.

## Projects options for Websites

-   `output-dir` field controls where rendered output goes. Defaults to `_site`

``` {.yaml code-line-numbers="3" filename="_quarto.yml"}
project:
  type: website
  output-dir: docs
  render:
    - "index.qmd"
    - "about.qmd"
    - "00-pre-workshop.qmd"
    - "01*/*.qmd"
  resources:
    - "day01-exercises.zip"
```

## Projects options for Websites

-   `render`: lists which files to render. Defaults to all files.
-   `resources:` specifies additional files that should be copied to the output directory.

``` {.yaml code-line-numbers="4-8|9-10" filename="_quarto.yml"}
project:
  type: website
  output-dir: docs
  render:
    - "index.qmd"
    - "about.qmd"
    - "00-pre-workshop.qmd"
    - "01*/*.qmd"
  resources:
    - "day01-exercises.zip"
```

See [Render Targets](https://quarto.org/docs/websites/#render-targets) and [Site Resources](https://quarto.org/docs/websites/website-tools.html#site-resources) in the Quarto Website Guide for more details.

## Comments in `.yml` files

Use `#` to add comments.

``` {.yaml filename="_quarto.yml"}
project:
  type: website
  output-dir: docs
  ## which pages to include in the website
  render:
    - "index.qmd"
    - "about.qmd"
    - "00-pre-workshop.qmd"
    - "01*/*.qmd"
  ## non-page resources for your website
  resources:
    - "day01-exercises.zip"
```

## Rendering Websites

[ðŸ”— github.com/cynthiahqy/monash-quarto-aea](https://github.com/cynthiahqy/monash-quarto-aea)

::: {layout="[60,40]"}
``` {.terminal code-line-numbers="2-8|9"}
.
â”œâ”€â”€ 00-pre-workshop.qmd
â”œâ”€â”€ 01a-hello-quarto
â”‚   â”œâ”€â”€ images
â”‚   â”œâ”€â”€ index.qmd
â”‚   â””â”€â”€ slides.qmd
â”œâ”€â”€ index.qmd
â”œâ”€â”€ about.qmd
â”œâ”€â”€ day01-exercises.zip
...01d...04d...
...README...LICENSE...
â”œâ”€â”€ _quarto.yml
â”œâ”€â”€ _freeze/
â”œâ”€â”€ docs/
â”œâ”€â”€ references.bib
â””â”€â”€ style
    â””â”€â”€ slides.scss
```

``` {.yaml code-line-numbers="4-8|9-10" filename="_quarto.yml"}
project:
  type: website
  output-dir: docs
  render:
    - "index.qmd"
    - "about.qmd"
    - "00-pre-workshop.qmd"
    - "01*/*.qmd"
  resources:
    - "day01-exercises.zip"
```
:::

<!--- below are revisited in Session 3 ---->

# Website Options

## Available Features

::: incremental
-   **Navigation**: Top navbars, Sidebars
-   **Tools**: Search, Social Media, Comments, Google Analytics
-   **Content**: Listings, About Pages
:::

. . .

For a full list of available options see [quarto.org \> Reference \> Projects \> Websites](https://quarto.org/docs/reference/projects/websites.html). Include these options under the `website:` field.

## Add Pages to the Navigation

::: follow
- Reopen the replication packge template
- Add the file `replication-pkg/README.qmd` as a page to the sidebar. You will need:
  - to change the file format from `gfm` to `html`
  - make sure the file is targeted when the projec renders (add to `render` if not)
  - add a `href` link to the file in the `contents` option of `sidebar`
:::

## Your Turn: Website Options {.smaller} {visibility="hidden"}

::: task
Open up the workshop website.
Pick a YAML option from below and figure out what it does.
You might find these links useful: [Website Navigation](https://quarto.org/docs/websites/website-navigation.html), [Website Options](https://quarto.org/docs/reference/projects/websites.html).
Compare with your neighbour.
:::

```{r}
#| echo: false

countdown(minutes = 10)
```

``` yaml
website:
  title: "Meeting AEA Replication standards using Quarto and GitHub"
  description: "Jul 18-20 Workshop on Quarto for Department of Economics, Monash University"
  page-navigation: true
  page-footer:
  right: "This page is built with ðŸ’š and [Quarto](https://quarto.org/)."
  left: "&copy; Copyright 2023, Cynthia Huang"

  sidebar:
    pinned: true
    align: center
    style: docked
    search: true
    collapse-level: 2

    tools:
      - icon: github
        href: https://github.com/cynthiahqy/monash-quarto-aea
        text: "GitHub organization"

    contents:
      - href: index.qmd
        text: Home
      - href: about.qmd
        text: About
      - href: 00-pre-workshop.qmd
        text: Pre-work
      - text: "---"
      - section: "Getting to Know Quarto"
        contents:
          - href: 01a-hello-quarto/index.qmd
            text: Hello Quarto!
```

<!--- 15 mins --->

## Your Turn: Customising your Website {visibility="hidden"}

::: task
- What happens if you add `href` link to the sidebar without specifying `text`?
- How can we change the title of the sidebar?
- What features or content would you like to add to the website?
:::

```{r}
#| echo: false

countdown(minutes = 10)
```

